from typing import Callable, Optional


class App:
    """
    –ö–ª–∞—Å—Å App —Ö—Ä–∞–Ω–∏—Ç –º–∞—Ä—à—Ä—É—Ç—ã (–ø—É—Ç–∏) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.
    """

    def __init__(self) -> None:
        self.routes: dict[str, Callable[[], str]] = {}


    def get(self, route: str) -> Optional[Callable[[], str]]:
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É, –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞.

        :param route: –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –∏—â–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è
        :return: —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ None, –µ—Å–ª–∏ –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω
        """
        return self.routes.get(route)


# –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
app = App()


# --- üëá –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ---
def callback(route: str) -> Callable[[Callable[[], str]], Callable[[], str]]:
    """
    –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –≤ app.

    :param route: –ø—É—Ç—å
    :return: —Ñ—É–Ω–∫—Ü–∏—è-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
    """
    def decorator(func: Callable[[], str]) -> Callable[[], str]:
        app.routes[route] = func
        return func
    return decorator


# –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫
@callback('//')
def example() -> str:
    """–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞."""
    print('–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞')
    return 'OK'


# --- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ ---
route = app.get('//')
if route:
    response = route()
    print('–û—Ç–≤–µ—Ç:', response)
else:
    print('–¢–∞–∫–æ–≥–æ –ø—É—Ç–∏ –Ω–µ—Ç')
